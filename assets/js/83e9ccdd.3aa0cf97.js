"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5737],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var i=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=i.createContext({}),p=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(n),c=o,h=m["".concat(l,".").concat(c)]||m[c]||d[c]||a;return n?i.createElement(h,r(r({ref:t},u),{},{components:n})):i.createElement(h,r({ref:t},u))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,r=new Array(a);r[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:o,r[1]=s;for(var p=2;p<a;p++)r[p]=n[p];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}c.displayName="MDXCreateElement"},6086:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>p,toc:()=>m});var i=n(7462),o=n(3366),a=(n(7294),n(3905)),r=["components"],s={id:"runningSST",title:"How to Run SST"},l=void 0,p={unversionedId:"guides/runningSST",id:"guides/runningSST",title:"How to Run SST",description:"This page has not been reviewed recently to ensure that it is up-to-date with the latest SST specification. It is possible the information is out of date.",source:"@site/../docs/guides/runningSST.md",sourceDirName:"guides",slug:"/guides/runningSST",permalink:"/sst-website/docs/guides/runningSST",draft:!1,editUrl:"https://github.com/sstsimulator/docs/edit/master/docs/../docs/guides/runningSST.md",tags:[],version:"current",lastUpdatedBy:"grvosku",lastUpdatedAt:1675712938,formattedLastUpdatedAt:"Feb 6, 2023",frontMatter:{id:"runningSST",title:"How to Run SST"},sidebar:"Guides",previous:{title:"Simulation Configuration File",permalink:"/sst-website/docs/guides/configuration/pythonConfigGuide"},next:{title:"Basics: Header (.h) Files",permalink:"/sst-website/docs/guides/files/basics_header_files"}},u={},m=[{value:"Running SST",id:"running-sst",level:2},{value:"Usage",id:"usage",level:3},{value:"SST Options",id:"sst-options",level:3},{value:"Simulation Examples",id:"simulation-examples",level:2},{value:"SST Example0",id:"sst-example0",level:3},{value:"SST Example1",id:"sst-example1",level:3},{value:"Running Example0 in Parallel",id:"running-example0-in-parallel",level:3}],d={toc:m},c="wrapper";function h(e){var t=e.components,n=(0,o.Z)(e,r);return(0,a.kt)(c,(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"This page has not been reviewed recently to ensure that it is up-to-date with the latest SST specification. It is possible the information is out of date.")),(0,a.kt)("h2",{id:"running-sst"},"Running SST"),(0,a.kt)("p",null,"Before running SST, make sure your ",(0,a.kt)("inlineCode",{parentName:"p"},"$LD_LIBRARY_PATH")," environment variable include the location of the dependency and component libraries so that it is searched for shared libraries at runtime. For example, it you followed the wiki page to build and install SST, the ",(0,a.kt)("inlineCode",{parentName:"p"},"$HOME/local/lib")," should be included in your ",(0,a.kt)("inlineCode",{parentName:"p"},"$LD_LIBRARY_PATH")," environment variable."),(0,a.kt)("h3",{id:"usage"},"Usage"),(0,a.kt)("p",null,"The SST command line has three parts, the SST binary, options for the binary, and a Python configuration file."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"<SST binary> [SST options] <config file>\n")),(0,a.kt)("h3",{id:"sst-options"},"SST Options"),(0,a.kt)("p",null,'Running SST with the "--help" flag prints a help message that includes all of the supported simulator options. Here\'s a snippet:'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ ./sst --help\nUsage: sst [options] config-file\n  Arguments to options contained in [] are optional.\n  BOOL values can be expressed as true/false, yes/no or 1/0 and default to true if the option is specified\n  Options available to be set in the sdl file (input configuration file) are denoted by (S)\n\nInformational Options\n -h, --help                          Print help message\n -V, --version                       Print SST Release Version\n\nBasic Options (most commonly used)\n -v, --verbose=[level]           (S) Verbosity level to determine what information about core runtime is printed\n -n, --num_threads=NUM           (S) Number of parallel threads to use per rank\n      --sdl-file=FILE                Specify SST Configuration file.  Note: this is most often done by just specifying the file without an option.\n      --model-options=STR            Provide options to the python configuration script.  Additionally, any arguments provided after a final '-- ' will be appended to the model options\n                                     (or used as the model options if --model-options was not specified).\n      --print-timing-info=[BOOL] (S) Print SST timing information\n      --stop-at=TIME             (S) Set time at which simulation will end execution\n      --stopAtCycle=TIME         (S) [DEPRECATED] Set time at which simulation will end execution (deprecated, please use --stop-at instead)\n      --exit-after=TIME          (S) Set the maximum wall time after which simulation will end execution.  Time is specified in hours, minutes and seconds, with the following formats\n                                     supported: H:M:S, M:S, S, Hh, Mm, Ss (captital letters are the appropriate numbers for that value, lower case letters represent the units and are\n                                     required in for those formats).\n      --stopAfter=TIME           (S) [DEPRECATED] Set the maximum wall time after which simulation will exit (deprecatd, please use --exit-after instead)\n      --timebase=TIMEBASE        (S) Set the base time step of the simulation (default: 1ps)\n      --partitioner=PARTITIONER  (S) Select the partitioner to be used. <lib.partitionerName>\n      --heartbeat-period=PERIOD  (S) Set time for heartbeats to be published (these are approximate timings, published by the core, to update on progress)\n      --output-directory=DIR     (S) Directory into which all SST output files should reside\n      --output-prefix-core=STR   (S) set the SST::Output prefix for the core\n\nConfiguration Output Options (generates a file that can be used as input for reproducing a run)\n      --output-config=FILE       (S) File to write SST configuration (in Python format)\n      --output-json=FILE         (S) File to write SST configuration graph (in JSON format)\n      --parallel-output=[BOOL]   (S) Enable parallel output of configuration information.  This option is ignored for single rank jobs.  Must also specify an output type (--output-config\n                                     and/or --output-json).  Note: this will also cause partition info to be output if set to true.\n      --output-xml=FILE          (S) [DEPRECATED] File to write SST configuration graph (in XML format)\n\nGraph Output Options (for outputting graph information for visualization or inspection)\n      --output-dot=FILE          (S) File to write SST configuration graph (in GraphViz format)\n      --dot-verbosity=INT        (S) Amount of detail to include in the dot graph output\n      --output-partition=[FILE]  (S) File to write SST component partitioning information.  When used without an argument and in conjuction with --output-json or --output-config options,\n                                     will cause paritition information to be added to graph output.\n\nAdvanced Options\n      --parallel-load                Enable parallel loading of configuration. This option is ignored for single rank jobs.\n      --timeVortex=MODULE        (S) Select TimeVortex implementation <lib.timevortex>\n      --interthread-links=[BOOL] (S) [EXPERIMENTAL] Set whether or not interthread links should be used <false>\n      --debug-file=FILE          (S) File where debug output will go\n      --lib-path=LIBPATH         (S) Component library path (overwrites default)\n      --add-lib-path=LIBPATH     (S) Component library path (appends to main path)\n\nAdvanced Options - Debug\n      --run-mode=MODE            (S) Set run mode [ init | run | both (default)]\n      --output-undeleted-events=FILE\n                                 (S) file to write information about all undeleted events at the end of simulation (STDOUT and STDERR can be used to output to console)\n      --force-rank-seq-startup       Force startup phases of simulation to execute one rank at a time for debug purposes\n\nAdvanced Options - Environment Setup/Reporting\n      --print-env                    Print environment variables SST will see\n      --disable-signal-handlers      Disable signal handlers\n      --no-env-config                Disable SST environment configuration\n")),(0,a.kt)("h2",{id:"simulation-examples"},"Simulation Examples"),(0,a.kt)("p",null,'SST contains an example Element library (simpleElementExample) that is made up of a number of very simple components.  A few "example" configurations demonstrate simple wire-up, message sending, and other basic features. Other components provide more detailed and specific examples for how to use features of the SST Core (e.g., how to create, update, and output statistics). To run your own input configuration (e.g., ',(0,a.kt)("em",{parentName:"p"},"myConfig.py"),") or one of the example configurations, pass the name of the configuration file to SST as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ sst myConfig.py \n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ sst $SST_HOME/sst/elements/simpleElementExample/tests/example0.py\n")),(0,a.kt)("p",null,"The configuration file specifies the simulation setup (refer to ",(0,a.kt)("a",{parentName:"p",href:"configuration/pythonConfigGuide"},"Python Configuration"),").\nNote that parameters can be passed to the input configuration file (",(0,a.kt)("em",{parentName:"p"},"myConfig.py"),") using either the ",(0,a.kt)("inlineCode",{parentName:"p"},"--model-options")," flag or appending a ",(0,a.kt)("inlineCode",{parentName:"p"},"--")," followed by the options to the end of the command, as in:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},'$ sst --model-options="--param0=X --param1=Y" myConfig.py\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ sst myConfig.py -- --param0=X --param1=Y\n")),(0,a.kt)("h3",{id:"sst-example0"},"SST Example0"),(0,a.kt)("p",null,"Within simpleElementExample, the first example, ",(0,a.kt)("em",{parentName:"p"},"example0"),", demonstrates two components each sending to the other a parameterized number of events (e.g., 50 events). The simulation ends when both components receive the expected events. To run this example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ cd $SST_HOME/sst/elements/simpleElementExample/tests\n$ sst example0.py\n")),(0,a.kt)("p",null,"This should produce output that looks like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"Simulation is complete, simulated time: 52 ns\n")),(0,a.kt)("h3",{id:"sst-example1"},"SST Example1"),(0,a.kt)("p",null,"A second example in simpleElementExample adds a statistic to each Example0 component above that counts the size of each event received. Additionally, the component uses a random number generator to randomly vary the event size. To run this example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ cd $SST_HOME/sst/elements/simpleElementExample/tests\n$ sst example1.py\n")),(0,a.kt)("p",null,"This will produce output that looks like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"}," c0.EventSizeReceived : Accumulator : Sum.u64 = 696; SumSQ.u64 = 14110; Count.u64 = 50; Min.u64 = 1; Max.u64 = 31; \n c1.EventSizeReceived : Accumulator : Sum.u64 = 696; SumSQ.u64 = 14110; Count.u64 = 50; Min.u64 = 1; Max.u64 = 31; \nSimulation is complete, simulated time: 52 ns\n")),(0,a.kt)("p",null,"The output shows that component 'c0' received 50 events (Count) and the total size of all events was 696B (Sum). The smallest event received (Min) was 1B and the largest was 31B (Max).\nBecause the random number generator seed is a hardcoded value in the example1 component, the statistics reported by component 'c1' are identical."),(0,a.kt)("h3",{id:"running-example0-in-parallel"},"Running Example0 in Parallel"),(0,a.kt)("p",null,"SST can be run in parallel using MPI:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"mpirun -n 2 sst example0.py\n")),(0,a.kt)("p",null,"Using threads:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sst -n 2 example0.py\n")),(0,a.kt)("p",null,"Or using both, (although the example here has only two components so SST will warn about not using all four threads/ranks):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"mpirun -n 2 sst -n 2 example0.py\n")))}h.isMDXComponent=!0}}]);