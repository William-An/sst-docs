"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7667],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>f});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),d=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,s=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=d(r),m=n,f=c["".concat(l,".").concat(m)]||c[m]||p[m]||s;return r?a.createElement(f,o(o({ref:t},u),{},{components:r})):a.createElement(f,o({ref:t},u))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=r.length,o=new Array(s);o[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[c]="string"==typeof e?e:n,o[1]=i;for(var d=2;d<s;d++)o[d]=r[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},28221:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>d});var a=r(87462),n=(r(67294),r(3905));const s={title:"CustomData"},o=void 0,i={unversionedId:"core/iface/StandardMem/req/customdata",id:"core/iface/StandardMem/req/customdata",title:"CustomData",description:"The StandardMem::CustomData class is a base class for custom implementations of different request types. It provides a minimal set of functions needed by StandardMem to be able to route CustomReq/Resp requests, create responses, and generate debug/output for the CustomReq/Resp.",source:"@site/../docs/core/iface/StandardMem/req/customdata.md",sourceDirName:"core/iface/StandardMem/req",slug:"/core/iface/StandardMem/req/customdata",permalink:"/sst-docs/docs/core/iface/StandardMem/req/customdata",draft:!1,editUrl:"https://github.com/sstsimulator/sst-docs/edit/master/docs/../docs/core/iface/StandardMem/req/customdata.md",tags:[],version:"current",lastUpdatedBy:"grvosku",lastUpdatedAt:1695940750,formattedLastUpdatedAt:"Sep 28, 2023",frontMatter:{title:"CustomData"},sidebar:"core",previous:{title:"CustomResp",permalink:"/sst-docs/docs/core/iface/StandardMem/req/customresp"},next:{title:"RequestConverter",permalink:"/sst-docs/docs/core/iface/StandardMem/reqconverter"}},l={},d=[{value:"Member variables",id:"member-variables",level:2},{value:"Member functions",id:"member-functions",level:2},{value:"getRoutingAddress",id:"getroutingaddress",level:3},{value:"getSize",id:"getsize",level:3},{value:"makeResponse",id:"makeresponse",level:3},{value:"needsResponse",id:"needsresponse",level:3},{value:"getString",id:"getstring",level:3},{value:"serialize_order",id:"serialize_order",level:3},{value:"Header",id:"header",level:2}],u={toc:d},c="wrapper";function p(e){let{components:t,...r}=e;return(0,n.kt)(c,(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"// Constructor\nSST::Interfaces::StandardMem::CustomData();\n")),(0,n.kt)("p",null,"The StandardMem::CustomData class is a base class for custom implementations of different request types. It provides a minimal set of functions needed by StandardMem to be able to route CustomReq/Resp requests, create responses, and generate debug/output for the CustomReq/Resp. "),(0,n.kt)("p",null,"CustomData derivatives must be serializable and provide a serializer function. The CustomData class itself inherits from ",(0,n.kt)("inlineCode",{parentName:"p"},"SST::Core::Serialization::serializable")," to enforce this requirement. This allows the CustomData structure to be serialized as part of SST Events, enabling components to exchange the structure without interpreting it."),(0,n.kt)("h2",{id:"member-variables"},"Member variables"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"StandardMem::CustomData")," class is a pure virtual class and defines no member variables."),(0,n.kt)("h2",{id:"member-functions"},"Member functions"),(0,n.kt)("p",null,"The following are virtual functions that must be defined by derived classes."),(0,n.kt)("h3",{id:"getroutingaddress"},"getRoutingAddress"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"virtual Addr getRoutingAddress() = 0;\n")),(0,n.kt)("p",null,"This function should return an address that can be used by the memory system implementation to appropriately forward the request to its intended destination."),(0,n.kt)("h3",{id:"getsize"},"getSize"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"virtual uint64_t getSize() = 0;\n")),(0,n.kt)("p",null,"Return the size of the request or response. This is intended to be used for memory, network, and other components to be able to accurately account for bandwidth and other resource usage."),(0,n.kt)("h3",{id:"makeresponse"},"makeResponse"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"virtual CustomData* makeResponse() = 0;\n")),(0,n.kt)("p",null,"This function should return a new CustomData",(0,n.kt)("em",{parentName:"p"}," object formatted as a response to a request `CustomData")," ",(0,n.kt)("inlineCode",{parentName:"p"},"object. When "),"makeResponse()",(0,n.kt)("inlineCode",{parentName:"p"},"is called on a"),"StandardMem::CustomReq",(0,n.kt)("inlineCode",{parentName:"p"},"request, this function is called its CustomData object and the returned data structure is included in the"),"StandardMem::CustomReq",(0,n.kt)("inlineCode",{parentName:"p"},"'s returned "),"StandardMem::CustomResp` request."),(0,n.kt)("h3",{id:"needsresponse"},"needsResponse"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"virtual bool needsResponse() = 0;\n")),(0,n.kt)("p",null,"The function is invoked when ",(0,n.kt)("inlineCode",{parentName:"p"},"needsResponse")," is called on a ",(0,n.kt)("inlineCode",{parentName:"p"},"StandardMem::CustomReq")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"StandardMem::CustomResp"),". The return value should be ",(0,n.kt)("inlineCode",{parentName:"p"},"true")," if the custom request requires a response and ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," otherwise."),(0,n.kt)("h3",{id:"getstring"},"getString"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"virtual std::string getString() = 0;\n")),(0,n.kt)("p",null,"This function should return a string representation of the ",(0,n.kt)("inlineCode",{parentName:"p"},"CustomData")," object for use in debug, tracing, or other output."),(0,n.kt)("h3",{id:"serialize_order"},"serialize_order"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"virtual void serialize_order(SST::Core::Serialization::serializer& ser) = 0;\n")),(0,n.kt)("p",null,"This function must be implemented by all CustomData derivatives to enable serialization of the class' data members. See ",(0,n.kt)("a",{parentName:"p",href:"../../../events/serialize_order"},"Event serialization")," for additional details. In addition to defining this function, derivative classes ",(0,n.kt)("em",{parentName:"p"},"must")," include this macro in their class header:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"ImplementSerializable(CLASS); // Where CLASS is the name of the derivative class\n")),(0,n.kt)("h2",{id:"header"},"Header"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"#include <sst/core/interfaces/stdMem.h>\n")))}p.isMDXComponent=!0}}]);