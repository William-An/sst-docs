"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1904],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>k});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),d=a,k=u["".concat(s,".").concat(d)]||u[d]||m[d]||i;return n?r.createElement(k,o(o({ref:t},c),{},{components:n})):r.createElement(k,o({ref:t},c))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},40939:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const i={title:"SST::Interfaces::SimpleNetwork"},o=void 0,l={unversionedId:"core/iface/SimpleNetwork/class",id:"core/iface/SimpleNetwork/class",title:"SST::Interfaces::SimpleNetwork",description:"The SimpleNetwork interface defines an interface between a network and an endpoint. A network library should define a SubComponent that implements the SimpleNetwork interface. Endpoints can then load that SimpleNetwork SubComponent to interface with the network library.",source:"@site/../docs/core/iface/SimpleNetwork/class.md",sourceDirName:"core/iface/SimpleNetwork",slug:"/core/iface/SimpleNetwork/class",permalink:"/sst-docs/docs/core/iface/SimpleNetwork/class",draft:!1,editUrl:"https://github.com/sstsimulator/sst-docs/edit/master/docs/../docs/core/iface/SimpleNetwork/class.md",tags:[],version:"current",lastUpdatedBy:"grvosku",lastUpdatedAt:1684522150,formattedLastUpdatedAt:"May 19, 2023",frontMatter:{title:"SST::Interfaces::SimpleNetwork"},sidebar:"core",previous:{title:"SST Library Interfaces",permalink:"/sst-docs/docs/core/iface/overview"},next:{title:"constructor",permalink:"/sst-docs/docs/core/iface/SimpleNetwork/constructor"}},s={},p=[{value:"Types",id:"types",level:2},{value:"Implementing a SimpleNetwork interface",id:"implementing-a-simplenetwork-interface",level:2},{value:"Interfacing with a SimpleNetwork interface",id:"interfacing-with-a-simplenetwork-interface",level:2}],c={toc:p},u="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The SimpleNetwork interface defines an interface between a network and an endpoint. A network library should define a SubComponent that implements the SimpleNetwork interface. Endpoints can then load that SimpleNetwork SubComponent to interface with the network library."),(0,a.kt)("h2",{id:"types"},"Types"),(0,a.kt)("p",null,"SimpleNetwork defines several types. "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"nid_t")," A network ID. This is a 64-bit int."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"Request"},(0,a.kt)("strong",{parentName:"a"},"Request"))," A data structure representing both a network send and receive. Send functions accept requests of this type and receive functions return requests of this type."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"NetworkInspector"},(0,a.kt)("strong",{parentName:"a"},"NetworkInspector"))," A subcomponent that can be implemented to allow inspecting network requests as they go through a network."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"handler"},(0,a.kt)("strong",{parentName:"a"},"Handler"))," A function to notify the endpoint when the SimpleNetwork sends or receives a packet")),(0,a.kt)("h2",{id:"implementing-a-simplenetwork-interface"},"Implementing a SimpleNetwork interface"),(0,a.kt)("p",null,"In addition to implementing the functions described in this network interface documentation, SimpleNetwork interfaces must also perform the following tasks. "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Assign a unique ID to each network endpoint")),(0,a.kt)("p",{parentName:"li"},"  This ID is returned by the ",(0,a.kt)("a",{parentName:"p",href:"getEndpointID"},(0,a.kt)("inlineCode",{parentName:"a"},"getEndpointID"))," function, and the IDs are used in SimpleNetwork::Request to identify where a request orginates from (src) and to where it should be sent (dest). "),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"getEndpointID"},"getEndpointID()")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"Request"},"Request")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Facilitate untimed data transfer")))),(0,a.kt)("p",null,"During SST's ",(0,a.kt)("a",{parentName:"p",href:"../../component/lifecycle/init"},"init()")," and ",(0,a.kt)("a",{parentName:"p",href:"../../component/lifecycle/init"},"complete()")," phases, events can be sent over links. While a network does not need to use these phases itself (although it may), a network ",(0,a.kt)("em",{parentName:"p"},"should")," support endpoints sending events over network links during these phases. In addtition to routing events to specific endpoints, the network must also support broadcasting of messages during the untimed phases when INIT_BROADCAST_ADDRESS is specified as the destination.  This can be done either by the SimpleNetwork object creating an event for each endpoint in the network, or the network routers can use more intelligent algorithms to guarantee that each end point receives exactly one copy of the event."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Support both polling and interrupt-based event delivery"))),(0,a.kt)("p",null,"All SimpleNetwork events are delivered via a polling function, ",(0,a.kt)("a",{parentName:"p",href:"recv"},(0,a.kt)("inlineCode",{parentName:"a"},"recv"))," which must be called to get an event from a network. SimpleNetworks should also support registering a callback function to notify an endpoint that an event is available. "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Support for notification of event send"))),(0,a.kt)("p",null,"A SimpleNetwork implementation should allow an endpoint to register a callback to be called when an event is sent on the SimpleNetwork's output link.  This allows an endpoint that has been blocked due to full buffers to know when to try sending events again. "),(0,a.kt)("p",null,"Additionally, the SimpleNetwork interface supports some features that are not required to be supported but are commonly useful."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Trace requests through the network"))),(0,a.kt)("p",null,"SimpleNetwork::Request events can be tagged as traceable. Interfaces, and network libraries, can use these fields to return trace information about tagged Requests."),(0,a.kt)("h2",{id:"interfacing-with-a-simplenetwork-interface"},"Interfacing with a SimpleNetwork interface"),(0,a.kt)("p",null,"Endpoints that load a SimpleNetwork SubComponent must support the following actions."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Facilitate SST lifecycle for the SubComponent"))),(0,a.kt)("p",null,"This means that the endpoint must call ",(0,a.kt)("inlineCode",{parentName:"p"},"init()"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"setup()"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"complete()"),", and ",(0,a.kt)("inlineCode",{parentName:"p"},"finish()")," on the interface during its own respective functions. "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Allow network initialization prior to network use"))),(0,a.kt)("p",null,"In addition to calling ",(0,a.kt)("inlineCode",{parentName:"p"},"init()")," on the SimpleNetwork during its own ",(0,a.kt)("inlineCode",{parentName:"p"},"init()")," function, the endpoint must wait for the network to be initialized before using the network. See ",(0,a.kt)("a",{parentName:"p",href:"isNetworkInitialized"},"isNetworkInitialized")," for details."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Use network IDs to address messages on the network"))),(0,a.kt)("p",null,"As described above, SimpleNetworks assign each endpoint an ID. The endpoints must use these IDs to appropriately set the source and destination fields in a network Request."))}m.isMDXComponent=!0}}]);